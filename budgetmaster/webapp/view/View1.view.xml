<mvc:View
    controllerName="pgp.com.budgetmaster.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:Table="sap.ui.table"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
>
    <Page title="Budget Master">
        <content>
            <fb:FilterBar
                persistencyKey="myPersKey"
                useToolbar="false"
                search=".onSearch"
                showFilterConfiguration="false"
                showClearOnFB="true"
                clear="onFilterBarClear"
            >
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        name="PRJ_TYPE"
                        label="Project"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                selectedKey="{oModelFilter>/PRJ_TYPE}"
                                forceSelection="false"
                            >
                                <core:Item
                                    key="Project"
                                    text="Project"
                                />
                                <core:Item
                                    key="BAU"
                                    text="BAU"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="ZINITI"
                        label="Initiative"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudInitSet}"
                                selectedKey="{oModelFilter>/ZINITI}"
                                forceSelection="false"
                                editable="{oPropertyModel>/keyField}"
                            >
                                <core:Item
                                    key="{DropdownValue}"
                                    text="{DropdownValue}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="ZTLIST"
                        label="Technology"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudTechSet}"
                                selectedKey="{oModelFilter>/ZTLIST}"
                                forceSelection="false"
                            >
                                <core:Item
                                    key="{DropdownValue}"
                                    text="{DropdownValue}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>

                    <fb:FilterGroupItem
                        name="ZCATEG"
                        label="Category"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudCateSet}"
                                selectedKey="{oModelFilter>/ZCATEG}"
                                forceSelection="false"
                            >
                                <core:Item
                                    key="{DropdownValue}"
                                    text="{DropdownValue}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>

                    <fb:FilterGroupItem
                        name="ZEXPTP"
                        label="Expense Type"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudExpeSet}"
                                selectedKey="{oModelFilter>/ZEXPTP}"
                                forceSelection="false"
                                editable="{oPropertyModel>/keyField}"
                            >
                                <core:Item
                                    key="{DropdownValue}"
                                    text="{DropdownValue}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>

                    <fb:FilterGroupItem
                        name="ZCAPEX_OPEX"
                        label="Spend Type"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudSptypeSet}"
                                selectedKey="{oModelFilter>/ZCAPEX_OPEX}"
                                forceSelection="false"
                                editable="{oPropertyModel>/keyField}"
                            >
                                <core:Item
                                    key="{DropdownValue}"
                                    text="{DropdownValue}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="WERKS"
                        label="Business Unit"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudPlantSet}"
                                selectedKey="{oModelFilter>/WERKS}"
                                forceSelection="false"
                                editable="{oPropertyModel>/keyField}"
                            >
                                <core:Item
                                    key="{Werks}"
                                    text="{Name1}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="ZWBS_OWNER"
                        label="Responsible"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                showValueHelp="true"
                                placeholder="Responsible"
                                showSuggestion="true"
                                valueHelpRequest="onresValueHelp"
                                value="{oModelTempValue>/ResName}{oModelFilter>/ZWBS_OWNER}"
                                valueHelpOnly="true"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>

                    <fb:FilterGroupItem
                        name="ZPRJ_HOD"
                        label="HOD"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Input
                                showValueHelp="true"
                                placeholder="HOD"
                                showSuggestion="true"
                                valueHelpRequest="onHODValueHelp"
                                value="{oModelTempValue>/HODName}{oModelFilter>/ZPRJ_HOD}"
                                valueHelpOnly="true"
                            />
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="ZBUDG_STATUS"
                        label="Active / Inactive"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                selectedKey="{oModelFilter>/ZBUDG_STATUS}"
                                forceSelection="false"
                            >
                                <core:Item
                                    key="true"
                                    text="Active"
                                />
                                <core:Item
                                    key="false"
                                    text="Inactive"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                    <fb:FilterGroupItem
                        name="budgetCode"
                        label="Budget Code"
                        groupName="Group1"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <Select
                                items="{/ZpsBudBdcodeSet}"
                                selectedKey="{oModelFilter>/budgetCode}"
                                forceSelection="false"
                            >
                                <core:Item
                                    key="{ZbudgCode}"
                                    text="{ZbudgCode}"
                                />
                            </Select>
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
            </fb:FilterBar>
            <Table:Table
                id="table"
                selectionBehavior="RowOnly"
                selectionMode="Single"
                rows="{ModelForTable>/}"
                ariaLabelledBy="title"
                visibleRowCount='15'
            >
                <Table:extension>
                    <OverflowToolbar
                        design="Transparent"
                        width="100%"
                    >
                        <content>
                            <Title
                                text="Projects"
                                level="H2"
                            />

                            <ToolbarSpacer />
                            <Button
                                text="Edit"
                                type="Emphasized"
                                press="onEditButtonPress"
                                icon="sap-icon://edit"
                            />
                            <Button
                                text="Copy"
                                type="Neutral"
                                press="onCopyButtonPress"
                                icon="sap-icon://copy"
                            />
                            <Button
                                text="Delete"
                                press="onDeleteButtonPress"
                                type="Reject"
                                icon="sap-icon://delete"
                            />
                            <Button
                                text="Add New"
                                icon="sap-icon://add"
                                type="Accept"
                                press="onAddNew"
                            />
                        </content>
                    </OverflowToolbar>
                </Table:extension>
                <Table:columns>
                    <Table:Column
                        id="PRJ_TYPE"
                        sortProperty="PRJ_TYPE"
                        width="6rem"
                    >
                        <Label
                            text="Project/BAU"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{path:'ModelForTable>PRJ_TYPE'}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZINITI"
                        sortProperty="ZINITI"
                    >
                        <Label
                            text="Initiative"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZINITI}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZTLIST"
                        sortProperty="ZTLIST"
                    >
                        <Label
                            text="Technology"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZTLIST}" />
                        </Table:template>
                    </Table:Column>

                    <Table:Column
                        id="ZCATEG"
                        sortProperty="ZCATEG"
                    >
                        <Label
                            text="Category"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZCATEG}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZEXPTP"
                        sortProperty="ZEXPTP"
                    >
                        <Label
                            text="Expense Type"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{path:'ModelForTable>ZEXPTP'}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZCAPEX_OPEX"
                        sortProperty="ZCAPEX_OPEX"
                    >
                        <Label
                            text="Spend Type"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{path:'ModelForTable>ZCAPEX_OPEX'}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="WtotalVol"
                        sortProperty="WtotalVol"
                    >
                        <Label
                            text="Business Unit"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>WERKS}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZWBS_OWNER"
                        sortProperty="ZWBS_OWNER"
                    >
                        <Label
                            text="Responsible"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZWBS_OWNER}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZPRJ_HOD"
                        sortProperty="ZPRJ_HOD"
                    >
                        <Label
                            text="HOD"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ path:'ModelForTable>ZPRJ_HOD' }" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column
                        id="ZREMARKS"
                        sortProperty="ZREMARKS"
                    >
                        <Label
                            text="Remarks"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZREMARKS}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column sortProperty="ZBUDG_STATUS">
                        <Label
                            text="Active / Inactive"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text
                                text="{=${ModelForTable>ZBUDG_STATUS} ? 'Active':'Inactive'}"
                            />
                        </Table:template>
                    </Table:Column>
                    <Table:Column sortProperty="ZBUDG_DISC">
                        <Label
                            text="Budet Code Description"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZBUDG_DISC}" />
                        </Table:template>
                    </Table:Column>
                    <Table:Column sortProperty="ZBUDG_CODE">
                        <Label
                            text="Budet Code"
                            wrapping="true"
                        />
                        <Table:template>
                            <Text text="{ModelForTable>ZBUDG_CODE}" />
                        </Table:template>
                    </Table:Column>
                </Table:columns>
            </Table:Table>
        </content>
    </Page>
</mvc:View>
